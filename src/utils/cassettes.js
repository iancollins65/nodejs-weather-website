const cassettes = [
    {
        speed: 7,
        name: "10-24T",
        cogs: [10,12,14,16,18,21,24]
    },
    {
        speed: 7,
        name: "11-19T",
        cogs: [11,12,13,14,15,17,19]
    },
    {
        speed: 7,
        name: "11-24T",
        cogs: [11,12,14,16,18,21,24]
    },
    {
        speed: 7,
        name: "11-28T",
        cogs: [11,13,15,18,21,24,28]
    },
    {
        speed: 7,
        name: "11-30T",
        cogs: [11,13,15,18,21,24,30]
    },
    {
        speed: 7,
        name: "11-34T",
        cogs: [11,13,15,18,21,24,34]
    },
    {
        speed: 7,
        name: "12-21T",
        cogs: [12,13,14,15,17,19,21]
    },
    {
        speed: 7,
        name: "12-24T",
        cogs: [12,13,14,16,18,21,24]
    },
    {
        speed: 7,
        name: "12-28T",
        cogs: [12,14,16,18,21,24,28]
    },
    {
        speed: 7,
        name: "12-32T",
        cogs: [12,14,16,18,21,26,32]
    },
    {
        speed: 7,
        name: "13-21T",
        cogs: [13,14,15,16,17,19,21]
    },
    {
        speed: 7,
        name: "13-23T",
        cogs: [13,14,15,17,19,21,23]
    },
    {
        speed: 7,
        name: "13-25T",
        cogs: [13,15,17,19,21,23,25]
    },
    {
        speed: 7,
        name: "13-26T",
        cogs: [13,15,17,19,21,23,26]
    },
    {
        speed: 7,
        name: "13-28T",
        cogs: [13,15,17,19,21,24,28]
    },
    {
        speed: 7,
        name: "13-30T",
        cogs: [13,15,17,20,23,26,30]
    },
    {
        speed: 7,
        name: "13-34T",
        cogs: [13,15,17,20,24,29,34]
    },
    {
        speed: 7,
        name: "14-28T",
        cogs: [14,16,18,20,22,24,28]
    },
    {
        speed: 7,
        name: "14-32T",
        cogs: [14,16,18,21,24,28,32]
    },
    {
        speed: 8,
        name: "11-23T",
        cogs: [11,12,13,15,17,19,21,23]
    },
    {
        speed: 8,
        name: "11-28T",
        cogs: [11,12,14,16,18,21,24,28]
    },
    {
        speed: 8,
        name: "11-30T",
        cogs: [11,13,15,17,20,23,26,30]
    },
    {
        speed: 8,
        name: "11-32T",
        cogs: [11,13,15,18,21,24,28,32]
    },
    {
        speed: 8,
        name: "11-34T",
        cogs: [11,13,15,17,20,23,26,34]
    },
    {
        speed: 8,
        name: "11-40T",
        cogs: [11,13,15,18,22,28,34,40]
    },
    {
        speed: 8,
        name: "11-48T",
        cogs: [11,13,15,18,24,32,40,48]
    },
    {
        speed: 8,
        name: "12-21T",
        cogs: [12,13,14,15,16,17,19,21]
    },
    {
        speed: 8,
        name: "12-23T",
        cogs: [12,13,14,15,17,19,21,23]
    },
    {
        speed: 8,
        name: "12-25T",
        cogs: [12,13,15,17,19,21,23,25]
    },
    {
        speed: 8,
        name: "12-26T",
        cogs: [12,13,15,17,19,21,23,26]
    },
    {
        speed: 8,
        name: "12-28T",
        cogs: [12,13,14,16,18,21,24,28]
    },
    {
        speed: 8,
        name: "12-32T",
        cogs: [12,14,16,18,21,24,28,32]
    },
    {
        speed: 8,
        name: "12-34T",
        cogs: [12,14,16,18,21,24,28,34]
    },
    {
        speed: 8,
        name: "13-23T",
        cogs: [13,14,15,16,17,19,21,23]
    },
    {
        speed: 8,
        name: "13-26T",
        cogs: [13,14,15,17,19,21,23,26]
    },
    {
        speed: 8,
        name: "13-30T",
        cogs: [13,15,17,19,21,23,26,30]
    },
    {
        speed: 8,
        name: "13-32T",
        cogs: [13,15,17,19,21,23,26,32]
    },
    {
        speed: 8,
        name: "13-34T",
        cogs: [13,15,17,19,21,23,26,34]
    },
    {
        speed: 9,
        name: "9-26T",
        cogs: [9,10,11,13,15,17,20,23,26]
    },
    {
        speed: 9,
        name: "11-21T",
        cogs: [11,12,13,14,15,16,17,19,21]
    },
    {
        speed: 9,
        name: "11-23T",
        cogs: [11,12,13,14,15,17,19,21,23]
    },
    {
        speed: 9,
        name: "11-25T",
        cogs: [11,12,13,15,17,19,21,23,25]
    },
    {
        speed: 9,
        name: "11-26T",
        cogs: [11,12,13,15,17,19,21,23,26]
    },
    {
        speed: 9,
        name: "11-28T",
        cogs: [11,12,13,14,16,18,21,24,28]
    },
    {
        speed: 9,
        name: "11-30T",
        cogs: [11,12,14,16,18,20,23,26,30]
    },
    {
        speed: 9,
        name: "11-32T",
        cogs: [11,12,14,16,18,21,24,28,32]
    },
    {
        speed: 9,
        name: "11-34T",
        cogs: [11,13,15,17,20,23,26,30,34]
    },
    {
        speed: 9,
        name: "11-36T",
        cogs: [11,13,15,17,20,23,26,30,36]
    },
    {
        speed: 9,
        name: "11-40T",
        cogs: [11,13,15,18,21,24,28,34,40]
    },
    {
        speed: 9,
        name: "12-21T",
        cogs: [12,13,14,15,16,17,18,19,21]
    },
    {
        speed: 9,
        name: "12-23T",
        cogs: [12,13,14,15,16,17,19,21,23]
    },
    {
        speed: 9,
        name: "12-25T",
        cogs: [12,13,14,15,17,19,21,23,25]
    },
    {
        speed: 9,
        name: "12-26T",
        cogs: [12,13,14,15,17,19,21,23,26]
    },
    {
        speed: 9,
        name: "12-27T",
        cogs: [12,13,14,15,17,19,21,24,27]
    },
    {
        speed: 9,
        name: "12-30T",
        cogs: [12,13,15,17,19,21,24,27,30]
    },
    {
        speed: 9,
        name: "12-34T",
        cogs: [12,14,16,18,20,23,26,30,34]
    },
    {
        speed: 9,
        name: "12-36T",
        cogs: [12,14,16,18,21,24,28,32,36]
    },
    {
        speed: 9,
        name: "13-23T",
        cogs: [13,14,15,16,17,18,19,21,23]
    },
    {
        speed: 9,
        name: "13-24T",
        cogs: [13,14,15,16,17,18,19,21,24]
    },
    {
        speed: 9,
        name: "13-25T",
        cogs: [13,14,15,16,17,19,21,23,25]
    },
    {
        speed: 9,
        name: "13-30T",
        cogs: [13,14,15,17,19,21,24,27,30]
    },
    {
        speed: 9,
        name: "13-34T",
        cogs: [13,15,17,19,21,24,27,30,34]
    },
    {
        speed: 9,
        name: "14-25T",
        cogs: [14,15,16,17,18,19,21,23,25]
    },
    {
        speed: 9,
        name: "14-34T",
        cogs: [14,15,17,19,21,24,27,30,34]
    },
    {
        speed: 10,
        name: "11-21T",
        cogs: [11,12,13,14,15,16,17,18,19,21]
    },
    {
        speed: 10,
        name: "11-23T",
        cogs: [11,12,13,14,15,16,17,19,21,23]
    },
    {
        speed: 10,
        name: "11-25T",
        cogs: [11,12,13,14,15,17,19,21,23,25]
    },
    {
        speed: 10,
        name: "11-26T",
        cogs: [11,12,13,14,15,17,19,21,23,26]
    },
    {
        speed: 10,
        name: "11-27T",
        cogs: [11,12,13,14,15,17,19,21,24,27]
    },
    {
        speed: 10,
        name: "11-28T",
        cogs: [11,12,13,14,15,17,19,21,24,28]
    },
    {
        speed: 10,
        name: "11-29T",
        cogs: [11,12,13,14,15,17,21,24,27,29]
    },
    {
        speed: 10,
        name: "11-32T",
        cogs: [11,12,14,16,18,20,22,25,28,32]
    },
    {
        speed: 10,
        name: "11-34T",
        cogs: [11,13,15,17,19,21,23,26,30,34]
    },
    {
        speed: 10,
        name: "11-36T",
        cogs: [11,13,15,17,19,21,24,28,32,36]
    },
    {
        speed: 10,
        name: "11-40T",
        cogs: [11,13,15,18,21,24,28,32,36,40]
    },
    {
        speed: 10,
        name: "11-42T",
        cogs: [11,13,15,17,20,24,28,32,38,42]
    },
    {
        speed: 10,
        name: "11-45T",
        cogs: [11,13,15,17,20,24,28,32,38,45]
    },
    {
        speed: 10,
        name: "11-46T",
        cogs: [11,13,15,18,21,24,28,34,40,46]
    },
    {
        speed: 10,
        name: "12-21T",
        cogs: [12,13,14,15,16,17,18,19,20,21]
    },
    {
        speed: 10,
        name: "12-23T",
        cogs: [12,13,14,15,16,17,18,19,21,23]
    },
    {
        speed: 10,
        name: "12-25T",
        cogs: [12,13,14,15,16,17,19,21,23,25]
    },
    {
        speed: 10,
        name: "12-26T",
        cogs: [12,13,14,15,16,17,19,21,23,26]
    },
    {
        speed: 10,
        name: "12-27T",
        cogs: [12,13,14,15,16,17,19,21,24,27]
    },
    {
        speed: 10,
        name: "12-28T",
        cogs: [12,13,14,15,17,19,21,23,25,28]
    },
    {
        speed: 10,
        name: "12-30T",
        cogs: [12,13,14,15,17,19,21,24,27,30]
    },
    {
        speed: 10,
        name: "12-32T",
        cogs: [12,13,14,15,17,19,22,25,28,32]
    },
    {
        speed: 10,
        name: "12-36T",
        cogs: [12,13,15,17,19,22,25,28,32,36]
    },
    {
        speed: 10,
        name: "13-26T",
        cogs: [13,14,15,16,17,18,19,21,23,26]
    },
    {
        speed: 10,
        name: "13-29T",
        cogs: [13,14,15,16,17,19,21,23,26,29]
    },
    {
        speed: 10,
        name: "14-23T",
        cogs: [14,15,16,17,18,19,20,21,22,23]
    },
    {
        speed: 10,
        name: "14-25T",
        cogs: [14,15,16,17,19,19,20,21,23,25]
    },
    {
        speed: 10,
        name: "15-25T",
        cogs: [15,16,17,19,19,20,21,22,23,25]
    },
    {
        speed: 10,
        name: "16-27T",
        cogs: [16,17,19,19,20,21,22,23,25,27]
    },
    {
        speed: 11,
        name: "10-40T",
        cogs: [10,12,14,16,18,21,24,28,32,36,40]
    },
    {
        speed: 11,
        name: "10-42T",
        cogs: [10,12,14,16,18,21,24,28,32,36,42]
    },
    {
        speed: 11,
        name: "10-44T",
        cogs: [10,12,14,16,18,21,24,28,32,38,44]
    },
    {
        speed: 11,
        name: "10-45T",
        cogs: [10,12,14,16,18,21,24,28,33,39,45]
    },
    {
        speed: 11,
        name: "10-46T",
        cogs: [10,12,14,16,19,22,26,30,36,42,46]
    },
    {
        speed: 11,
        name: "10-48T",
        cogs: [10,12,14,16,19,22,26,30,36,42,48]
    },
    {
        speed: 11,
        name: "10-50T",
        cogs: [10,12,14,16,19,22,26,30,36,42,50]
    },
    {
        speed: 11,
        name: "11-23T",
        cogs: [11,12,13,14,15,16,17,18,19,21,23]
    },
    {
        speed: 11,
        name: "11-25T",
        cogs: [11,12,13,14,15,16,17,19,21,23,25]
    },
    {
        speed: 11,
        name: "11-26T",
        cogs: [11,12,13,14,15,16,17,19,21,23,26]
    },
    {
        speed: 11,
        name: "11-27T",
        cogs: [11,12,13,14,15,17,19,21,23,25,27]
    },
    {
        speed: 11,
        name: "11-28T",
        cogs: [11,12,13,14,15,17,19,21,23,25,28]
    },
    {
        speed: 11,
        name: "11-29T",
        cogs: [11,12,13,14,15,17,19,21,23,26,29]
    },
    {
        speed: 11,
        name: "11-30T",
        cogs: [11,12,13,14,15,17,19,21,24,27,30]
    },
    {
        speed: 11,
        name: "11-32T",
        cogs: [11,12,13,14,16,18,20,22,25,28,32]
    },
    {
        speed: 11,
        name: "11-34T",
        cogs: [11,13,15,17,19,21,23,25,27,30,34]
    },
    {
        speed: 11,
        name: "11-36T",
        cogs: [11,12,13,15,17,19,22,25,28,32,36]
    },
    {
        speed: 11,
        name: "11-40T",
        cogs: [11,13,15,17,19,21,24,27,31,35,40]
    },
    {
        speed: 11,
        name: "11-42T",
        cogs: [11,13,15,17,19,21,24,28,32,37,42]
    },
    {
        speed: 11,
        name: "11-46T",
        cogs: [11,13,15,17,19,21,24,28,32,37,46]
    },
    {
        speed: 11,
        name: "11-48T",
        cogs: [11,13,15,17,20,24,28,32,36,42,48]
    },
    {
        speed: 11,
        name: "11-50T",
        cogs: [11,13,15,18,21,24,28,32,36,42,50]
    },
    {
        speed: 11,
        name: "12-25T",
        cogs: [12,13,14,15,16,17,18,19,21,23,25]
    },
    {
        speed: 11,
        name: "12-27T",
        cogs: [12,13,14,15,16,17,19,21,23,25,27]
    },
    {
        speed: 11,
        name: "12-28T",
        cogs: [12,13,14,15,16,17,19,21,23,25,28]
    },
    {
        speed: 11,
        name: "12-29T",
        cogs: [12,13,14,15,16,17,19,21,23,26,29]
    },
    {
        speed: 11,
        name: "12-32T",
        cogs: [12,13,14,15,16,17,19,22,25,27,32]
    },
    {
        speed: 11,
        name: "14-25T",
        cogs: [14,15,16,17,18,19,21,22,23,24,25]
    },
    {
        speed: 11,
        name: "14-27T",
        cogs: [14,15,16,17,18,19,20,21,23,25,27]
    },
    {
        speed: 11,
        name: "14-28T",
        cogs: [14,15,16,17,18,19,20,21,23,25,28]
    },
    {
        speed: 11,
        name: "9-32T",
        cogs: [9,10,11,12,13,15,17,19,22,26,32]
    },
    {
        speed: 11,
        name: "9-34T",
        cogs: [9,11,13,15,17,19,21,24,27,30,34]
    },
    {
        speed: 11,
        name: "9-36T",
        cogs: [9,10,12,14,16,18,20,23,27,31,36]
    },
    {
        speed: 11,
        name: "9-39T",
        cogs: [9,11,13,15,17,19,21,24,28,33,39]
    },
    {
        speed: 11,
        name: "9-42T",
        cogs: [9,11,13,15,17,20,23,27,31,36,42]
    },
    {
        speed: 11,
        name: "9-45T",
        cogs: [9,11,13,15,17,20,23,27,32,38,45]
    },
    {
        speed: 11,
        name: "9-46T",
        cogs: [9,10,12,14,17,20,24,28,33,39,46]
    },
    {
        speed: 12,
        name: "10-26T",
        cogs: [10,11,12,13,14,15,16,17,19,21,23,26]
    },
    {
        speed: 12,
        name: "10-28T",
        cogs: [10,11,12,13,14,15,16,17,19,21,24,28]
    },
    {
        speed: 12,
        name: "10-33T",
        cogs: [10,11,12,13,14,15,17,19,21,24,28,33]
    },
    {
        speed: 12,
        name: "10-45T",
        cogs: [10,12,14,16,18,21,24,28,32,36,40,45]
    },
    {
        speed: 12,
        name: "10-48T",
        cogs: [10,12,14,16,18,21,24,28,32,36,42,48]
    },
    {
        speed: 12,
        name: "10-50T",
        cogs: [10,12,14,16,18,21,24,28,32,36,42,50]
    },
    {
        speed: 12,
        name: "10-51T",
        cogs: [10,12,14,16,18,21,24,28,33,39,45,51]
    },
    {
        speed: 12,
        name: "11-29T",
        cogs: [11,12,13,14,15,16,17,19,21,23,26,29]
    },
    {
        speed: 12,
        name: "11-32T",
        cogs: [11,12,13,14,15,16,17,19,22,25,28,32]
    },
    {
        speed: 12,
        name: "11-34T",
        cogs: [11,12,13,14,15,16,17,19,22,25,29,34]
    },
    {
        speed: 12,
        name: "11-36T",
        cogs: [11,12,13,14,15,17,19,21,24,27,31,36]
    },
    {
        speed: 12,
        name: "11-39T",
        cogs: [11,12,13,14,15,17,19,21,24,28,33,39]
    },
    {
        speed: 12,
        name: "11-46T",
        cogs: [11,12,13,15,17,19,22,25,29,34,39,46]
    },
    {
        speed: 12,
        name: "11-50T",
        cogs: [11,13,15,17,19,22,25,28,32,36,42,50]
    },
    {
        speed: 12,
        name: "11-52T",
        cogs: [11,12,13,15,17,19,22,26,31,37,44,52]
    },
    {
        speed: 12,
        name: "9-46T",
        cogs: [9,10,12,14,16,18,21,24,28,33,39,46]
    },
    {
        speed: 12,
        name: "9-48T",
        cogs: [9,11,13,15,17,20,23,27,31,35,41,48]
    },
    {
        speed: 12,
        name: "9-50T",
        cogs: [9,11,13,15,17,20,23,27,31,36,42,50]
    },
    {
        speed: 13,
        name: "10-36T",
        cogs: [10,11,12,13,14,15,17,19,21,24,27,31,36]
    },
    {
        speed: 13,
        name: "10-39T",
        cogs: [10,11,12,13,14,15,17,19,21,24,28,33,39]
    },
    {
        speed: 13,
        name: "10-46T",
        cogs: [10,11,12,13,15,17,19,22,25,29,34,39,46]
    },
    {
        speed: 13,
        name: "10-52T",
        cogs: [10,11,12,13,15,17,19,22,26,31,37,44,52]
    }     
]

const getCassetteSpeedOptions = (min = 1, max = 14) => {
    var options = []
    for (let i = min; i <= max; i++) {
        const cassette = cassettes.find((c) => c.speed === i)
        if (cassette) {
            options.push(i)
        }
    }
    return options
}

const getCassetteSpeedOptionsString = (min = 1, max = 14) => {
    return getArrayString(getCassetteSpeedOptions(min, max))
}

const getCassettesBySpeed = (speed = 11, deriveName = true) => {
    const cassetteOptions = cassettes.filter((c) => c.speed === speed)
    if (deriveName === true) {
        for (cassette of cassetteOptions) {
            const cogs = cassette.cogs
            if (!cassette.name) {
                var name = ''
                if (cogs.length === 1) {
                    name = cogs[0] + 'T'
                } else if (cogs.length > 1) {
                    name = cogs[0] + '-' + cogs[cogs.length - 1] + 'T'
                }
                if (name !== '') {
                    cassette.name = name
                }
            }
            cassette.cogsString = getArrayString(cogs)
        }
    }
    return cassetteOptions
}

const getArrayString = (array) => {
    var arrayString = ''
    for (element of array) {
        if (arrayString !== '') {
            arrayString = arrayString + ','
        }
        arrayString = arrayString + element
    }
    return arrayString
}

module.exports = {
    getCassetteSpeedOptions: getCassetteSpeedOptions,
    getCassetteSpeedOptionsString: getCassetteSpeedOptionsString,
    getCassettesBySpeed: getCassettesBySpeed,
    getArrayString: getArrayString
}

// {
//     speed: 1,
//     cogs: [14]
// },
// {
//     speed: 7,
//     cogs: [11,13,15,18,21,24,28]
// },
// {
//     speed: 8,
//     cogs: [11,13,15,17,19,21,24,28]
// },
// {
//     speed: 8,
//     cogs: [12,13,15,17,19,21,23,25]
// },
// {
//     speed: 9,
//     cogs: [11,12,14,16,18,20,23,26,30]
// },
// {
//     speed: 9,
//     cogs: [14,15,16,17,18,19,21,23,25]
// },
// {
//     speed: 10,
//     cogs: [11,12,13,14,15,17,19,21,23,25]
// },
// {
//     speed: 10,
//     name: 'Testing 10 speed',
//     cogs: [11,12,13,14,15,17,19,21,24,28]
// },
// {
//     speed: 10,
//     cogs: [12,13,14,15,17,19,21,24,27,30]
// },
// {
//     speed: 11,
//     cogs: [11,12,13,14,15,16,17,19,21,23,25]
// },
// {
//     speed: 11,
//     cogs: [11,12,13,14,15,17,19,21,23,25,28]
// },
// {
//     speed: 11,
//     cogs: [11,12,13,14,15,17,19,21,24,27,30]
// }   

